var initPhotoSwipeFromDOM=function(e){for(var t=function(e){for(var t,n,o,r,i=e.childNodes,l=i.length,a=[],u=0;l>u;u++)t=i[u],1===t.nodeType&&(n=t.children[0],o=n.getAttribute("data-size").split("x"),r="video"==n.getAttribute("data-type")?{html:n.getAttribute("data-video")}:{src:n.getAttribute("href"),w:parseInt(o[0],10),h:parseInt(o[1],10)},t.children.length>1&&(r.title=t.children[1].innerHTML),n.children.length>0&&(r.msrc=n.children[0].getAttribute("src")),r.el=t,a.push(r));return a},n=function u(e,t){return e&&(t(e)?e:u(e.parentNode,t))},o=function(e){e=e||window.event,e.preventDefault?e.preventDefault():e.returnValue=!1;var t=e.target||e.srcElement,o=n(t,function(e){return e.tagName&&"FIGURE"===e.tagName.toUpperCase()});if(o){for(var i,l=o.parentNode,a=o.parentNode.childNodes,u=a.length,c=0,p=0;u>p;p++)if(1===a[p].nodeType){if(a[p]===o){i=c;break}c++}return i>=0&&r(i,l),!1}},r=function(e,n,o){var r,i,l,a=document.querySelectorAll(".pswp")[0];l=t(n),i={maxSpreadZoom:1,barsSize:{top:40,bottom:70},captionEl:!0,fullscreenEl:!1,zoomEl:!1,shareEl:!1,counterEl:!1,history:!1,bgOpacity:.94,tapToClose:!0,tapToToggleControls:!1,clickToCloseNonZoomable:!1,getDoubleTapZoom:function(e,t){return t.initialZoomLevel},getThumbBoundsFn:function(e){var t=l[e].el.getElementsByTagName("img")[0],n=window.pageYOffset||document.documentElement.scrollTop,o=t.getBoundingClientRect();return{x:o.left,y:o.top+n,w:o.width}}},i.index=parseInt(e,10),isNaN(i.index)||(o&&(i.showAnimationDuration=0),r=new PhotoSwipe(a,PhotoSwipeUI_Default,l,i),r.init())},i=document.querySelectorAll(e),l=0,a=i.length;a>l;l++)i[l].setAttribute("data-pswp-uid",l+1),i[l].onclick=o};initPhotoSwipeFromDOM(".project-gallery");